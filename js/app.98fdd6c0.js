(function(){"use strict";var e={2755:function(e,t,i){var n=i(9242),r=i(3396);function s(e,t){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(i)}var o=i(89);const l={},a=(0,o.Z)(l,[["render",s]]);var c=a,u=i(2483),d=i(7139),h=i.p+"img/arrow.79903ca4.svg";const f=e=>((0,r.dD)("data-v-63433fa3"),e=e(),(0,r.Cn)(),e),m={class:"slider",ref:"slider"},v=["onClick"],p=["src"],b=f((()=>(0,r._)("br",null,null,-1))),w=f((()=>(0,r._)("img",{src:h},null,-1))),g=[w],_=f((()=>(0,r._)("img",{src:h},null,-1))),P=[_];function k(e,t,i,n,s,o){const l=(0,r.up)("form-info");return(0,r.wg)(),(0,r.iD)(r.HY,null,[s.selectedPerson?((0,r.wg)(),(0,r.j4)(l,{key:0,isShowForm:s.formVisible,onIsVisibleForm:o.closeForm,person:s.selectedPerson},null,8,["isShowForm","onIsVisibleForm","person"])):(0,r.kq)("",!0),(0,r._)("div",{class:"slider-container",style:(0,d.j5)({"max-width":s.visibleSliderWidth+"px"})},[(0,r._)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.persons,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"slide",key:e.id,onClick:t=>o.showInfo(e,o.getPictureUrl(e.picId))},[(0,r._)("img",{src:o.getPictureUrl(e.picId),alt:"Person Image"},null,8,p),(0,r._)("p",null,[(0,r.Uk)((0,d.zw)(e.name)+" ",1),b,(0,r.Uk)(" "+(0,d.zw)(e.surname),1)])],8,v)))),128))],512),0!==s.currentPosition?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"prev-button",onClick:t[0]||(t[0]=e=>o.scroll(-1))},g)):(0,r.kq)("",!0),s.maxPosition!==s.currentPosition?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"next-button",onClick:t[1]||(t[1]=e=>o.scroll(1))},P)):(0,r.kq)("",!0)],4)],64)}const y=e=>((0,r.dD)("data-v-ae983172"),e=e(),(0,r.Cn)(),e),x={class:"modal-dialog"},F={class:"modal-content"},S=["src"],I={class:"modal-body"},O=y((()=>(0,r._)("h1",null,"ведущий",-1))),j=y((()=>(0,r._)("br",null,null,-1))),C=y((()=>(0,r._)("div",{class:"q grad"}," ",-1)));function D(e,t,i,s,o,l){return(0,r.wg)(),(0,r.iD)("div",{class:(0,d.C_)([{"modal-visible":i.isShowForm},"modal"]),onClick:t[1]||(t[1]=(0,n.iM)((e=>l.closeForm()),["self"]))},[(0,r._)("div",x,[(0,r._)("div",F,[(0,r._)("div",{class:"modal-header",onClick:t[0]||(t[0]=e=>l.closeForm())},[(0,r._)("img",{src:i.person.urlImg},null,8,S)]),(0,r._)("div",I,[O,(0,r._)("h2",null,[(0,r.Uk)((0,d.zw)(i.person.name)+" ",1),j,(0,r.Uk)(" "+(0,d.zw)(i.person.surname),1)]),(0,r._)("p",null,(0,d.zw)(i.person.title)+" – российский журналист и общественный деятель, ведущий на телевидении и радио, автор документальных фильмов и книг, кандидат экономических наук. ",1),C])])])],2)}var W={name:"formInfo",props:{isShowForm:Boolean,person:Object},data(){return{}},methods:{closeForm(){this.$emit("isVisibleForm",!1)}}};const V=(0,o.Z)(W,[["render",D],["__scopeId","data-v-ae983172"]]);var U=V,z={name:"HomeView",components:{FormInfo:U},data(){return{slideWidth:165,visibleSlides:null,sliderWidth:null,maxPosition:null,currentPosition:0,persons:[],formVisible:!1,selectedPerson:null,visibleSliderWidth:null}},async mounted(){await this.fetchPersons(),await this.getDataSlide()},methods:{scroll(e){this.maxPosition=this.persons.length-this.visibleSlides,this.currentPosition=Math.min(Math.max(this.currentPosition+e,0),this.maxPosition),this.$refs.slider.style.transform=`translateX(-${this.currentPosition*this.slideWidth}px)`},async fetchPersons(){await fetch("https://cdnapi.smotrim.ru/api/v1/boxes/vesti2").then((e=>e.json())).then((e=>{this.persons=e.data.content.filter((e=>"Персоны"===e.title))[0].content})).catch((e=>{console.error("Ошибка при получении данных:",e)}))},getPictureUrl(e){return`https://api.smotrim.ru/api/v1/pictures/${e}/bq/redirect`},getDataSlide(){this.visibleSlides=Math.floor(this.$refs.slider?.offsetWidth/this.slideWidth),this.sliderWidth=this.slideWidth*this.persons.length,this.visibleSliderWidth=167.75*this.visibleSlides},showInfo(e,t){this.formVisible=!0,this.selectedPerson=e,this.selectedPerson.urlImg=t},closeForm(e){this.formVisible=e}},created(){window.addEventListener("resize",this.getDataSlide)}};const q=(0,o.Z)(z,[["render",k],["__scopeId","data-v-63433fa3"]]);var M=q;const $=[{path:"/",name:"home",component:M}],H=(0,u.p7)({history:(0,u.PO)("/vue-carousel/"),routes:$});var Z=H;(0,n.ri)(c).use(Z).mount("#app")}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,r,s){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],s=e[u][2];for(var l=!0,a=0;a<n.length;a++)(!1&s||o>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[a])}))?n.splice(a--,1):(l=!1,s<o&&(o=s));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/vue-carousel/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,o=n[0],l=n[1],a=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(a)var u=a(i)}for(t&&t(n);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(u)},n=self["webpackChunkvue_carousel"]=self["webpackChunkvue_carousel"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2755)}));n=i.O(n)})();
//# sourceMappingURL=app.98fdd6c0.js.map